@using PruebaDBP.Models
@model Paginador<Pelicula>
@{
    ViewData["Title"] = "Resultados";
}

<main class="flex items-center justify-center bg-gray-100 p-5 ">
    <div class="columns-1 mx-auto space-y-4">
        <div class="container">
            
            
            @foreach(var item in Model.Resultado){
                
                <div class="container bg-slate-50 rounded-xl grid justify-items-center mt-10 ">
                    <figure class=" flex items-center bg-slate-50 rounded-xl p-2 grid grid-cols-4 md:grid-cols-6 gap-2 justify-content-center flex justify-center">
                        <img class="w-fit h-fit md:w-auto md:h-auto flex md:rounded-none mx-auto" src="/images/default.png" srcset="@Html.DisplayFor(modelitem=>item.UrlFoto)" alt="" width="384" height="512">
                        <div class="pt-0 md:p-5 text-left space-y-4 ml-5 col-span-3 md:col-span-5 ">

                            <div class="text-sky-900 text-3xl text-left">
                                <a>@Html.DisplayFor(modelItem => item.NomPelicula)</a>
                            </div>
                            <div class="columns-1 md:columns-2 grid md:grid-cols-3 gap-0 md:gap-4">
                                <div class="md:col-span-2">
                                    <figcaption class="font-medium">
                                        
                                        <div class="text-sky-500">
                                            Estreno: <label class="text-slate-600 font-small">@Html.DisplayFor(modelItem => item.FechaEstreno)</label>
                                        </div>
                                    </figcaption>

                                    <blockquote>
                                        <div class="h-auto w-auto md:py-2 font-small text-[0px] md:text-base mt-0 md:mt-3 ">
                                            <div class="font-medium text-sky-500 mb-2">Sinopsis</div>
                                            @Html.DisplayFor(modelItem => item.Sumilla)
                                        </div>
                                    </blockquote>
                                </div>

                                <div class="grid justify-items-center">
                                    <figure class="col-1 ">
                                        <div class="text-slate-700 flex justify-center">
                                            <div class=" py-1">
                                                <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="star" class="w-4 text-yellow-500 mr-1" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512">
                                                    <path fill="currentColor" d="M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"></path>
                                                </svg>
                                            </div>
                                            <p>4.5</p>
                                        </div>
                                        <div class="mt-3">
                                            <ul>
                                                <li>
                                                    <div class="text-xs mt-1 inline-flex items-center font-bold leading-sm uppercase px-3 py-1 bg-gray-200 text-gray-500 rounded-full">
                                                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 4v16M17 4v16M3 8h4m10 0h4M3 12h18M3 16h4m10 0h4M4 20h16a1 1 0 001-1V5a1 1 0 00-1-1H4a1 1 0 00-1 1v14a1 1 0 001 1z"></path></svg>
                                                        <p class="px-2 text-right">Fantasia</p>
                                                    </div>
                                                </li>
                                                <li>
                                                    <div class="text-xs mt-1 inline-flex items-center font-bold leading-sm uppercase px-3 py-1 bg-gray-200 text-gray-500 rounded-full">
                                                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 4v16M17 4v16M3 8h4m10 0h4M3 12h18M3 16h4m10 0h4M4 20h16a1 1 0 001-1V5a1 1 0 00-1-1H4a1 1 0 00-1 1v14a1 1 0 001 1z"></path></svg>
                                                        <p class="px-2 text-right">Aventura</p>
                                                    </div>
                                                </li>
                                            </ul>
                                        </div>
                                    </figure>
                                </div>
                            </div>
                        </div>
                    </figure>
                </div>
            }
        </div>
        @*CÓDIGO PARA EL PAGINADOR DE REGISTROS*@
        @if (Model.Resultado.Count() > 0)
        {
            <span>
                <strong>@Model.TotalRegistros</strong> registros encontrados
            </span>
            <span>&nbsp;|&nbsp;</span>
            <span>
                Página <strong>@(Model.PaginaActual)</strong> de
                <strong>@Model.TotalPaginas</strong>
            </span>
            <span>&nbsp;|&nbsp;</span>
        }
        else
        {
            <span>No hay resultados para esta búsqueda</span>
            <span>&nbsp;|&nbsp;</span>
        }

        <div class="flex justify-center">
            <nav aria-label="Page navigation example">
                
        @if(Model.TotalPaginas>1){
            if (Model.PaginaActual == 1)
            {
                @Html.ActionLink("<<", "Resultados", new {nombreBuscar=Model.nombreABuscar, pagina = 1 },new { @class = "btn btn-sm btn-default disabled" })
                <span></span>
            }else{
                        @Html.ActionLink("<<", "Resultados", new {nombreBuscar=Model.nombreABuscar, pagina = 1 },new { @class = "btn btn-sm btn-default" })
                <span></span>
            }
            if(Model.PaginaActual==1){
                        @Html.ActionLink(Model.PaginaActual.ToString(), "Resultados", new {nombreBuscar=Model.nombreABuscar, pagina = 1 },new { @class = "btn btn-sm btn-default disabled py-1.5 px-3 border-0 bg-blue-500 outline-none transition-all duration-300 rounded-full text-white focus:shadow-none" })
                <span></span>
                if (Model.TotalPaginas >=2)
                {
                            @Html.ActionLink((Model.PaginaActual+1).ToString(), "Resultados", new {nombreBuscar=Model.nombreABuscar, pagina = Model.PaginaActual + 1 },
                        new { @class = "btn btn-sm btn-default py-1.5 px-3 border-0 bg-transparent outline-none transition-all duration-300 rounded-full text-gray-800 hover:text-gray-800 hover:bg-gray-200 focus:shadow-none" })
                        <span></span>
                    if(Model.TotalPaginas>=3){
                                @Html.ActionLink((Model.PaginaActual+2).ToString(), "Resultados", new {nombreBuscar=Model.nombreABuscar, pagina = Model.PaginaActual +2},
                        new { @class = "btn btn-sm btn-default py-1.5 px-3 border-0 bg-transparent outline-none transition-all duration-300 rounded-full text-gray-800 hover:text-gray-800 hover:bg-gray-200 focus:shadow-none" })
                        <span></span>
                    }
                }
            }
            else{
                if (Model.PaginaActual < Model.TotalPaginas)
                {
                            @Html.ActionLink((Model.PaginaActual-1).ToString(), "Resultados", new {nombreBuscar=Model.nombreABuscar, pagina = 1 },new { @class = "btn btn-sm btn-default py-1.5 px-3 border-0 bg-transparent outline-none transition-all duration-300 rounded-full text-gray-800 hover:text-gray-800 hover:bg-gray-200 focus:shadow-none"})
                    @Html.ActionLink(Model.PaginaActual.ToString(), "Resultados", new {nombreBuscar=Model.nombreABuscar, pagina = Model.PaginaActual},
            new { @class = "btn btn-sm btn-default py-1.5 px-3 border-0 bg-blue-500 outline-none transition-all duration-300 rounded-full text-white  focus:shadow-none" })
                    <span></span>
                    if (Model.TotalPaginas >= 3)
                    {
                                @Html.ActionLink((Model.PaginaActual+1).ToString(), "Resultados", new {nombreBuscar=Model.nombreABuscar, pagina = Model.PaginaActual + 1},
                        new { @class = "btn btn-sm btn-default py-1.5 px-3 border-0 bg-transparent outline-none transition-all duration-300 rounded-full text-gray-800 hover:text-gray-800 hover:bg-gray-200 focus:shadow-none" })
                        <span></span>
                    }
                }
                else
                {
                    if (Model.TotalPaginas <= 2) { 
                    @Html.ActionLink((Model.PaginaActual-1).ToString(), "Resultados", new { nombreBuscar=Model.nombreABuscar,pagina =Model.PaginaActual- 1 },new { @class = "btn btn-sm btn-default py-1.5 px-3 border-0 bg-transparent outline-none transition-all duration-300 rounded-full text-gray-800 hover:text-gray-800 hover:bg-gray-200 focus:shadow-none"})
                                @Html.ActionLink(Model.PaginaActual.ToString(), "Resultados", new {nombreBuscar=Model.nombreABuscar, pagina = Model.PaginaActual},
                    new { @class = "btn btn-sm btn-default py-1.5 px-3 border-0 bg-blue-500 outline-none transition-all duration-300 rounded-full text-white  focus:shadow-none" })
                    <span></span>
                    }
                    else{
                        @Html.ActionLink((Model.PaginaActual-2).ToString(), "Resultados", new { nombreBuscar=Model.nombreABuscar,pagina = Model.PaginaActual-2 },new { @class = "btn btn-sm btn-default py-1.5 px-3 border-0 bg-transparent outline-none transition-all duration-300 rounded-full text-gray-800 hover:text-gray-800 hover:bg-gray-200 focus:shadow-none"})
                                @Html.ActionLink((Model.PaginaActual-1).ToString(), "Resultados", new {nombreBuscar=Model.nombreABuscar, pagina = Model.PaginaActual-1},
            new { @class = "btn btn-sm btn-default py-1.5 px-3 border-0 bg-transparent outline-none transition-all duration-300 rounded-full text-gray-800 hover:text-gray-800 hover:bg-gray-200 focus:shadow-none"})
                        <span></span>
                                @Html.ActionLink(Model.PaginaActual.ToString(), "Resultados", new {nombreBuscar=Model.nombreABuscar, pagina = Model.PaginaActual},
            new { @class = "btn btn-sm btn-default py-1.5 px-3 border-0 bg-blue-500 outline-none transition-all duration-300 rounded-full text-white hover:text-gray-800 hover:bg-gray-200 focus:shadow-none" })
                            <span></span>
                    }
                }
                
            }
            
            @if(Model.PaginaActual==Model.TotalPaginas){
                @Html.ActionLink(">>", "Resultados", new {nombreBuscar=Model.nombreABuscar, pagina = Model.TotalPaginas },new { @class = "btn btn-sm btn-default  disabled py-1.5 px-3 border-0 bg-transparent outline-none transition-all duration-300 rounded-full text-gray-800 hover:text-gray-800 hover:bg-gray-200 focus:shadow-none" })
            }else{
                        @Html.ActionLink(">>", "Resultados", new {nombreBuscar=Model.nombreABuscar, pagina = Model.TotalPaginas },new { @class = "btn btn-sm btn-default py-1.5 px-3 border-0 bg-transparent outline-none transition-all duration-300 rounded-full text-gray-800 hover:text-gray-800 hover:bg-gray-200 focus:shadow-none" })

            }
        }
        
            </nav>
        </div>
    
    </div>
</main>
